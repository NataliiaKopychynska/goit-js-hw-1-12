{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import '../css/styles.css';\nconst API_KEY = '46929874-64df5169043d6b6fbb8fb2b93';\n\nexport async function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    const data = await response.json();\n    return data.hits; // Повертаємо масив зображень\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return [];\n  }\n}\n","import '../css/styles.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = ''; // Очищаємо галерею перед додаванням нових зображень\n\n  // Показуємо індикатор завантаження\n  showLoadingIndicator(true);\n\n  images.forEach(image => {\n    const card = document.createElement('a');\n    card.href = image.largeImageURL;\n    card.classList.add('gallery-item');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.classList.add('image');\n\n    const info = document.createElement('div');\n    info.classList.add('image-info');\n    info.innerHTML = `\n    <p class=\"paragraf-text\">\n    <span class=\"span-text\">Likes:</span> ${image.likes}\n    </p>\n    <p class=\"paragraf-text\">\n    <span class=\"span-text\">Views:</span> ${image.views}\n    </p>\n    <p class=\"paragraf-text\">\n    <span class=\"span-text\">Comments:</span> ${image.comments}\n    </p>\n    <p class=\"paragraf-text\">\n    <span class=\"span-text\">Downloads:</span> ${image.downloads}\n    </p>\n    `;\n\n    card.appendChild(img);\n    card.appendChild(info);\n    gallery.appendChild(card);\n  });\n\n  // Приховуємо індикатор завантаження після рендерингу\n  showLoadingIndicator(false);\n\n  // Оновлюємо SimpleLightbox після додавання нових карток\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n}\n\nexport function renderError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n    timeout: 5000,\n  });\n}\n\nexport function showLoadingIndicator(show) {\n  const loadingIndicator = document.querySelector('.loading-indicator');\n  loadingIndicator.style.display = show ? 'block' : 'none';\n}\n","// main.js\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages, renderError } from './js/render-function';\nimport './css/styles.css';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\n\n// Логіка обробки сабміту форми\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault(); // Запобігаємо перезавантаженню сторінки при сабміті\n\n  const query = searchInput.value.trim();\n\n  // Перевірка на порожнє поле\n  if (!query) {\n    renderError('Please enter a search query.');\n    return;\n  }\n\n  // Виконання запиту до API\n  try {\n    const images = await fetchImages(query);\n\n    if (images.length === 0) {\n      renderError(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n    } else {\n      renderImages(images); // Виводимо зображення\n    }\n  } catch (error) {\n    renderError(\n      'An error occurred while fetching images. Please try again later.'\n    );\n  }\n\n  searchInput.value = ''; // Очищення поля вводу після пошуку\n});\n"],"names":["API_KEY","fetchImages","query","url","response","error","renderImages","images","gallery","showLoadingIndicator","image","card","img","info","SimpleLightbox","renderError","message","show","loadingIndicator","searchForm","searchInput","e"],"mappings":"0xBACA,MAAMA,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAC9D,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,yBAA0BA,CAAK,EACtC,EACR,CACH,CCZO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAGpBC,EAAqB,EAAI,EAEzBF,EAAO,QAAQG,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOD,EAAM,cAClBC,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAChBE,EAAI,UAAU,IAAI,OAAO,EAEzB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAC/BA,EAAK,UAAY;AAAA;AAAA,4CAEuBH,EAAM,KAAK;AAAA;AAAA;AAAA,4CAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,+CAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,gDAGbA,EAAM,SAAS;AAAA;AAAA,MAI3DC,EAAK,YAAYC,CAAG,EACpBD,EAAK,YAAYE,CAAI,EACrBL,EAAQ,YAAYG,CAAI,CAC5B,CAAG,EAGDF,EAAqB,EAAK,EAGT,IAAIK,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,CACH,CAEO,SAASC,EAAYC,EAAS,CACnC,SAAS,MAAM,CACb,MAAO,QACP,QAASA,EACT,SAAU,WACV,QAAS,GACb,CAAG,CACH,CAEO,SAASP,EAAqBQ,EAAM,CACzC,MAAMC,EAAmB,SAAS,cAAc,oBAAoB,EACpEA,EAAiB,MAAM,QAAUD,EAAO,QAAU,MACpD,CC5DA,MAAME,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EAGzDD,EAAW,iBAAiB,SAAU,MAAME,GAAK,CAC/CA,EAAE,eAAc,EAEhB,MAAMnB,EAAQkB,EAAY,MAAM,KAAI,EAGpC,GAAI,CAAClB,EAAO,CACVa,EAAY,8BAA8B,EAC1C,MACD,CAGD,GAAI,CACF,MAAMR,EAAS,MAAMN,EAAYC,CAAK,EAElCK,EAAO,SAAW,EACpBQ,EACE,0EACR,EAEMT,EAAaC,CAAM,CAEtB,MAAe,CACdQ,EACE,kEACN,CACG,CAEDK,EAAY,MAAQ,EACtB,CAAC"}